import{r as k,o as m,c as C,a as S,l as F,b as u,d as v,e as y,f as o,t as w,u as p,p as g,g as b,h as d,i as L,j as N,k as P,m as D}from"./vendor.afbe4226.js";const O=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function l(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=l(t);fetch(t.href,n)}};O();const A={setup(e){return(a,l)=>{const r=k("router-view");return m(),C(r)}}};let h=S.create({baseURL:"/",headers:{"Content-Type":"application/x-www-form-urlencoded"}});h.interceptors.request.use(e=>(console.log(e),e.headers.token=localStorage.getItem("token"),e.headers["Content-Type"]!="multipart/form-data"&&(e.data=F.stringify(e.data)),e),e=>Promise.error(e));h.interceptors.response.use(e=>(e.data&&e.data.cc=="9999"&&(location.href="/#/login"),e));const I=(e,a)=>h({url:e,method:"post",data:a}),B=(e,a)=>h.post(e,a,{headers:{"Content-Type":"multipart/form-data"}});var x=(e,a)=>{for(const[l,r]of a)e[l]=r;return e};const R=e=>(g("data-v-3c50aa5b"),e=e(),b(),e),U={class:"change-box"},j=R(()=>o("p",null,"PDF\u6587\u4EF6\u8F6CTXT",-1)),q={for:""},E=d("\u6587\u4EF6\u4E0A\u4F20\uFF1A"),H={for:""},M=d("\u9A8C\u8BC1\u7801: "),V=["value"],W={setup(e){const a=u(),l=u();let r=u(0);var t={};function n(_){console.log(_)}async function i(_){var $=new FormData(l.value);let{data:c}=await B("/api/uploadFile",$);console.log("\u63D0\u4EA4\u8FD4\u56DE\u7684\u6570\u636E",c),c.cc===0?(alert("\u63D0\u4EA4\u6210\u529F\uFF01"),t=c):t={}}function s(){t.cc===0&&(r.value=t.times,window.open("api/download/"+t.url,"m_iframe"))}return v(()=>{console.log(a)}),(_,$)=>(m(),y("div",U,[j,o("form",{action:"api/uploadFile",method:"POST",ref:(c,f)=>{f.formd=c,l.value=c},enctype:"multipart/form-data",target:"nm_iframe"},[o("label",q,[E,o("input",{type:"file",name:"file",ref:(c,f)=>{f.fileUpload=c,a.value=c}},null,512)]),o("label",H,[M,o("input",{type:"text",value:_.formText,name:"code",onChange:n},null,40,V)])],512),o("button",{class:"button",onClick:i},"\u63D0\u4EA4\u6587\u4EF6"),o("button",{class:"button",onClick:s},"\u8F6C\u4E3Atxt"),o("p",null,"\u8FD8\u5269"+w(p(r))+"\u6B21",1),o("iframe",{ref:(c,f)=>{f.iframe=c},name:"m_iframe",style:{display:"none"}},null,512)]))}};var K=x(W,[["__scopeId","data-v-3c50aa5b"]]);const X=e=>(g("data-v-8e51c718"),e=e(),b(),e),z={class:"change-box"},G=X(()=>o("p",null,"\u767B\u5F55\u9875\u9762",-1)),J={for:""},Q=d("\u540D\u79F0: "),Y=["value"],Z={for:""},ee=d("\u5BC6\u7801: "),te=["value"],oe={setup(e){var a=u(),l=u();const r=L();async function t(){console.log(a.value);let{data:s}=await I("/api/login",{username:a.value,password:l.value});s.cc===0?(alert("\u63D0\u4EA4\u6210\u529F\uFF01"),localStorage.setItem("token",s.token),console.log(r.push),r.push("/setTimes")):r.push("/login")}function n(s){a.value=s.target.value}function i(s){l.value=s.target.value}return v(()=>{}),(s,_)=>(m(),y("div",z,[G,o("label",J,[Q,o("input",{type:"text",value:p(a),onInput:n},null,40,Y)]),o("label",Z,[ee,o("input",{type:"password",value:p(l),onInput:i},null,40,te)]),o("button",{class:"button",onClick:t},"\u767B\u5F55")]))}};var ae=x(oe,[["__scopeId","data-v-8e51c718"]]);const se=e=>(g("data-v-67b4c37a"),e=e(),b(),e),ne={class:"change-box"},re=se(()=>o("p",null,"\u8BBE\u7F6E\u6B21\u6570",-1)),le={for:""},ce=d("\u9A8C\u8BC1\u7801: "),ie=["value"],ue={for:""},_e=d("\u6B21\u6570: "),pe=["value"],de={for:""},fe={setup(e){var a=u(),l=u(),r=u(0);async function t(){let{data:s}=await I("/api/addTimes",{code:a.value,times:l.value});s&&s.cc===0?(alert("\u63D0\u4EA4\u6210\u529F\uFF01"),r.value=s.times):alert("\u63D0\u4EA4\u5931\u8D25\uFF01\u8BF7\u91CD\u65B0\u63D0\u4EA4")}function n(s){a.value=s.target.value}function i(s){l.value=s.target.value}return v(()=>{}),(s,_)=>(m(),y("div",ne,[re,o("label",le,[ce,o("input",{type:"text",value:p(a),onInput:n},null,40,ie)]),o("label",ue,[_e,o("input",{type:"text",value:p(l),onInput:i},null,40,pe)]),o("button",{class:"button",onClick:t},"\u63D0\u4EA4"),o("label",de,"\u5BA2\u6237\u5DF2\u7ECF\u6709\u7684\u6B21\u6570\uFF1A"+w(p(r)),1)]))}};var me=x(fe,[["__scopeId","data-v-67b4c37a"]]);const he=N({history:P(),routes:[{path:"/",component:K},{path:"/login",component:ae},{path:"/setTimes",component:me}]}),T=D(A);T.use(he);T.mount("#app");
